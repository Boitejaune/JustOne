const listemots = ["Afrique",
    "Aiguille",
    "Aile",
    "Air",
    "Alien",
    "Allemagne",
    "Alpes",
    "Amour",
    "Ampoule",
    "Amérique",
    "Ange",
    "Angleterre",
    "Anneau",
    "Appareil",
    "Araignée",
    "Arc",
    "Argent",
    "Asile",
    "Astérix",
    "Atlantique",
    "Atout",
    "Australie",
    "Avion",
    "Avocat",
    "Baguette",
    "Baie",
    "Balance",
    "Baleine",
    "Balle",
    "Ballon",
    "Banane",
    "Banc",
    "Bande",
    "Banque",
    "Bar",
    "Barbe",
    "Base",
    "Bateau",
    "Berlin",
    "Bière",
    "Blé",
    "Bombe",
    "Bon",
    "Botte",
    "Bouche",
    "Bouchon",
    "Bougie",
    "Boulet",
    "Bourse",
    "Bouteille",
    "Bouton",
    "Boîte",
    "Branche",
    "Bretelle",
    "Brique",
    "Bureau",
    "But",
    "Bâton",
    "Bête",
    "Bûche",
    "Boeuf",
    "Cabinet",
    "Cadre",
    "Cafard",
    "Café",
    "Camembert",
    "Campagne",
    "Canada",
    "Canard",
    "Canne",
    "Canon",
    "Carreau",
    "Carrière",
    "Carte",
    "Carton",
    "Cartouche",
    "Casino",
    "Ceinture",
    "Cellule",
    "Centre",
    "Cercle",
    "Champ",
    "Champagne",
    "Chance",
    "Chapeau",
    "Charge",
    "Charme",
    "Chasse",
    "Chat",
    "Chausson",
    "Chaîne",
    "Chef",
    "Chemise",
    "Cheval",
    "Chevalier",
    "Chien",
    "Chine",
    "Chocolat",
    "Chou",
    "Château",
    "Cinéma",
    "Cirque",
    "Citrouille",
    "Classe",
    "Club",
    "Clé",
    "Cochon",
    "Code",
    "Col",
    "Colle",
    "Commerce",
    "Coq",
    "Corde",
    "Corne",
    "Coton",
    "Coupe",
    "Courant",
    "Couronne",
    "Course",
    "Court",
    "Couteau",
    "Couverture",
    "Critique",
    "Crochet",
    "Cuisine",
    "Cycle",
    "Coeur",
    "Danse",
    "Dinosaure",
    "Docteur",
    "Don",
    "Dragon",
    "Droit",
    "Droite",
    "Eau",
    "Enceinte",
    "Ensemble",
    "Entrée",
    "Espace",
    "Espagne",
    "Espion",
    "Esprit",
    "Essence",
    "Europe",
    "Facteur",
    "Fantôme",
    "Farce",
    "Fer",
    "Ferme",
    "Feu",
    "Feuille",
    "Figure",
    "Filet",
    "Fin",
    "Flûte",
    "Formule",
    "Fort",
    "Forêt",
    "Fou",
    "Foyer",
    "Fraise",
    "Français",
    "Front",
    "Fuite",
    "Garde",
    "Gauche",
    "Gel",
    "Glace",
    "Gorge",
    "Grain",
    "Grenade",
    "Grue",
    "Grèce",
    "Guerre",
    "Guide",
    "Géant",
    "Génie",
    "Herbe",
    "Himalaya",
    "Histoire",
    "Hiver",
    "Hollywood",
    "Héros",
    "Hôpital",
    "Hôtel",
    "Indien",
    "Iris",
    "Jet",
    "Jeu",
    "Jour",
    "Journal",
    "Jumelles",
    "Jungle",
    "Kangourou",
    "Kiwi",
    "Lait",
    "Langue",
    "Laser",
    "Lentille",
    "Lettre",
    "Licorne",
    "Lien",
    "Ligne",
    "Lion",
    "Liquide",
    "Lit",
    "Livre",
    "Londres",
    "Louche",
    "Lumière",
    "Lune",
    "Lunettes",
    "Luxe",
    "Machine",
    "Magie",
    "Main",
    "Majeur",
    "Maladie",
    "Manche",
    "Manège",
    "Marche",
    "Marin",
    "Marque",
    "Marron",
    "Mars",
    "Maîtresse",
    "Membre",
    "Menu",
    "Meuble",
    "Microscope",
    "Miel",
    "Millionaire",
    "Mine",
    "Mineur",
    "Mode",
    "Molière",
    "Mort",
    "Mouche",
    "Moule",
    "Mousse",
    "Moustache",
    "Mémoire",
    "Nain",
    "Napoléon",
    "Neige",
    "New-York",
    "Ninja",
    "Noir",
    "Note",
    "Noël",
    "Nuit",
    "Numéro",
    "Noeud",
    "Oiseau",
    "Opéra",
    "Opération",
    "Or",
    "Orange",
    "Ordre",
    "Page",
    "Paille",
    "Palais",
    "Palme",
    "Papier",
    "Parachute",
    "Paris",
    "Partie",
    "Passe",
    "Patron",
    "Pendule",
    "Pensée",
    "Perle",
    "Peste",
    "Phare",
    "Physique",
    "Piano",
    "Pied",
    "Pigeon",
    "Pile",
    "Pilote",
    "Pingouin",
    "Pirate",
    "Pièce",
    "Place",
    "Plage",
    "Plan",
    "Planche",
    "Plante",
    "Plat",
    "Plateau",
    "Plume",
    "Point",
    "Poire",
    "Poison",
    "Poisson",
    "Police",
    "Pomme",
    "Pompe",
    "Portable",
    "Poste",
    "Pouce",
    "Poêle",
    "Princesse",
    "Prise",
    "Prêt",
    "Pyramide",
    "Pétrole",
    "Pêche",
    "Pôle",
    "Quartier",
    "Queue",
    "Radio",
    "Raie",
    "Rame",
    "Rat",
    "Rayon",
    "Recette",
    "Reine",
    "Religieuse",
    "Remise",
    "Requin",
    "Restaurant",
    "Robe",
    "Robot",
    "Roi",
    "Rome",
    "Ronde",
    "Rose",
    "Rouge",
    "Rouleau",
    "Roulette",
    "Russie",
    "Règle",
    "Résistance",
    "Révolution",
    "Sardine",
    "Satellite",
    "Schtroumpf",
    "Science",
    "Scène",
    "Sens",
    "Sept",
    "Serpent",
    "Sirène",
    "Siège",
    "Sol",
    "Soldat",
    "Soleil",
    "Solution",
    "Somme",
    "Sorcière",
    "Sortie",
    "Souris",
    "Table",
    "Tableau",
    "Talon",
    "Tambour",
    "Temple",
    "Temps",
    "Tennis",
    "Terre",
    "Timbre",
    "Titre",
    "Toile",
    "Tokyo",
    "Tour",
    "Trait",
    "Trou",
    "Trésor",
    "Tube",
    "Tuile",
    "Tête",
    "Uniforme",
    "Vague",
    "Vaisseau",
    "Vampire",
    "Vase",
    "Vent",
    "Verre",
    "Vert",
    "Vie",
    "Vin",
    "Visage",
    "Vision",
    "Voile",
    "Voiture",
    "Vol",
    "Voleur",
    "Volume",
    "Zéro",
    "Échelle",
    "Éclair",
    "École",
    "Égalité",
    "Égypte",
    "Éponge",
    "Étoile",
    "Étude",
    "Oeil",
    "Oeuf"];
var i = 13; // Nombre de round
var score = 0;
var ntour = 1;
var s_add = 0;
var m_d = "";
let historiqueContenu = "";

function sauvegarderHistorique(historiqueContenu) {
    const blob = new Blob([historiqueContenu], { type: 'text/plain' });
    const lien = document.createElement('a');
    lien.href = URL.createObjectURL(blob);
    lien.download = 'Historique.txt';
    document.body.appendChild(lien);
    lien.click();
    document.body.removeChild(lien);
}

while (i > 0){
    actif = Math.floor(Math.random()*5)+1;
    window.confirm("joueur " + actif + ", tu seras joueur actif cette manche.");
    bon = false; // Vérification que le joueur entre bien le bon nombre
    while (!bon){
        result = window.prompt("Joueur actif (" + actif + "), choisis un nombre entre 1 et 5: ");
        if (result >0 && result<6){
            bon = true;
        }else{
            window.confirm("nan vraiment un *nombre* entre 1 et 5");
        }
    };
    mots=[];
    j = 5; // nombre de mots
    while (j>0){
        temp = Math.floor(Math.random()*listemots.length);
        if (!(temp in mots)){
            mots.push(listemots[temp]);
            listemots.pop(temp)
        }
        j-=1;
    };
    window.confirm("joueur actif (" + actif + "), cache toi les yeux, voici les mots qui étaient disponibles: ");
    window.confirm(mots);
    window.confirm("le mot choisit est donc: " + mots[result-1]);
    [s_add, m_d] = tour(actif,5,mots[result-1]);
    if (s_add == 1){
        score += s_add;
    };
    console.log(score);
    window.confirm("votre score: " + score);
    historiqueContenu += "Tour " + ntour +" : Mot à deviner : " + mots[result-1] + "Mot donné : "+ m_d + "par joueur " + actif + "\n";
    i -= 1;
    ntour += 1;
}
window.addEventListener('load', function() {
    sauvegarderHistorique(historiqueContenu);
});